# 设计模式之五种创建型模式

## 最经典的单例设计模式
核心作用:保证一个类只有一个实例,并且提供一个访问该实例的全局访问点.

### 常见的应用场景
1. windows中的任务管理器
2. 项目中读取配置的工具类
3. 网站的计数器,日志管理
4. Spring中的每个Bean默认是单例的,优点是spring容器可以管理
5. Servlet也是单例

### 单例模式的优点
1. 只有一个实例,减少系统性能开销了,当一个对象产生需要过多资源,如读取文件,则生成一个单例对象,常驻内存可以解决这个问题了.
2. 单例模式可以在全局通过访问点访问

### 常见的五种单例模式
#### 主要的 
1. 饿汉式: 线程安全,调用效率高,但是不能延时加载
2. 懒汉式: 线程安全,调用效率不高,但是可以延时加载

### 其他的
1. 双重检测锁模式: JVM底层内部模型的原因,偶尔会出现问题,不推荐
2. 静态内部类模式: 线程安全,调用效率高,还可以延时加载
3. 枚举模式: 线程安全,调用效率高,不能延时加载

### 1.饿汉式
```java
/**
 * 单例设计模式之饿汉式
 * @author Administrator
 *
 */
public class SingletonEhan {

	//构建当前类的静态对象
	private static SingletonEhan INSTANCE = new SingletonEhan();
	
	//私有化构造函数不允许new当前对象
	private SingletonEhan() {}
	
	//创建访问点来获取当前类的唯一对象
	public static SingletonEhan getInstance(){
		return INSTANCE;
	}
	
}
```

### 2.懒汉式
```java
/**
 * 单例设计模式之懒汉式
 * @author Administrator
 *
 */
public class SingletonLanhan {

	//构建当前类的静态对象,初始为null
	private static SingletonLanhan INSTANCE;
	
	//私有化构造函数不允许new当前对象
	private SingletonLanhan() {}
	
	//创建访问点来获取当前类的唯一对象
	public static synchronized SingletonLanhan getInstance(){
		//在访问点中判断是否加载了,没加载就去加载,可以实现懒加载,但是sync了之后效率很低了
		if(INSTANCE == null){
			INSTANCE = new SingletonLanhan();
		}
		return INSTANCE;
	}
	
}
```
